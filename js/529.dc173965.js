"use strict";(self["webpackChunkjongsh_image_hosting"]=self["webpackChunkjongsh_image_hosting"]||[]).push([[529],{3640:function(e,a,t){e.exports=t.p+"img/background-light.cef1d016.webp"},6682:function(e,a,t){e.exports=t.p+"img/404.8ed11fb3.png"},8015:function(e,a,t){t.d(a,{A:function(){return r}});t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698);var n=t(782);function s(e,a=500){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),a)}}var r={data(){return{wallpapers:[],wallPaperIndex:0,customWallPaperIndex:0,backgroundInterval:null,backgroundInitParams:null,isChanging:!1}},computed:{...(0,n.L8)("base",["storeUserConfig","storeWallPapers","storeUseDarkMode"]),useDarkMode(){return this.storeUseDarkMode||document.documentElement.classList.contains("dark")},bkInterval(){return this.storeUserConfig?.bkInterval||3e3},bkOpacity(){return this.storeUserConfig?.bkOpacity||1},backgroundImagesTemplate(){return'\n        <img id="bg1" class="background-image1" alt="Background Image"/>\n        <img id="bg2" class="background-image2" alt="Background Image"/>\n      '},backgroundImagesStyles(){return`\n        .background-image1, .background-image2 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transform: scale(1);\n          transition: opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1);\n        }\n      `}},watch:{useDarkMode:s(async function(e,a){e!==a&&this.backgroundInitParams&&!this.isChanging&&(await this.smoothThemeTransition(this.backgroundInitParams.configKey,this.backgroundInitParams.containerSelector,this.backgroundInitParams.useDefaultBackground),this.isChanging=!1)},300)},mounted(){this.injectBackgroundStyles()},beforeUnmount(){this.backgroundInterval&&clearInterval(this.backgroundInterval),this.clearBackgroundImages(!0),this.removeBackgroundStyles()},methods:{injectBackgroundStyles(){const e="background-manager-styles";if(!document.getElementById(e)){const a=document.createElement("style");a.id=e,a.textContent=this.backgroundImagesStyles,document.head.appendChild(a)}},removeBackgroundStyles(){const e="background-manager-styles",a=document.getElementById(e);a&&a.remove()},createBackgroundElements(e){if(!e)return void console.warn("未提供有效的容器元素");if(document.getElementById("bg1")||document.getElementById("bg2"))return;const a=document.createElement("img");a.id="bg1",a.className="background-image1",a.alt="Background Image";const t=document.createElement("img");t.id="bg2",t.className="background-image2",t.alt="Background Image",e.insertBefore(t,e.firstChild),e.insertBefore(a,e.firstChild)},loadBackgroundImage(e,a,t,n){e.src=a,e.onload=()=>{e.style.opacity=1,e.style.transform="scale(1)",n&&requestAnimationFrame(()=>{e.style.transform="scale(1.25)"}),t&&(t.style.background="transparent")}},clearBackgroundInterval(){this.backgroundInterval&&(clearInterval(this.backgroundInterval),this.backgroundInterval=null)},switchWallpaper(e,a){if(0===this.wallpapers.length)return;const t=0!=e.style.opacity?e:a,n=0!=e.style.opacity?a:e;t.style.opacity=0,t.style.transform="scale(1)",this.wallPaperIndex=(this.wallPaperIndex+1)%this.wallpapers.length,n.src=this.wallpapers[this.wallPaperIndex],n.onload=()=>{n.style.opacity=this.bkOpacity,n.style.transform="scale(1.25)"}},preloadWallpapers(){if(!this.wallpapers||this.wallpapers.length<=1)return;const e=new Set,a=t=>{if(t>=this.wallpapers.length)return;const n=this.wallpapers[t];if(e.has(n))return void a(t+1);const s=new Image;s.src=n,s.onload=()=>{e.add(n),a(t+1)},s.onerror=()=>{console.warn(`壁纸加载失败: ${n}`),a(t+1)}};a((this.wallPaperIndex+1)%this.wallpapers.length)},async clearBackgroundImages(e=!1){const a=document.getElementById("bg1"),t=document.getElementById("bg2");await Promise.all([a,t].map(a=>{if(a)return e?(a.style.transition="none",a.style.transform="scale(1)",a.style.opacity=0,a.src="",void requestAnimationFrame(()=>{a.style.transition=`opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1)`})):(a.style.opacity=0,a.style.transform="scale(1)",new Promise(e=>{setTimeout(()=>{a.src="",a.style.transition="none",requestAnimationFrame(()=>{a.style.transition=`opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1)`,e()})},800)}))}))},async initializeBackground(e,a=".login",n=!1){this.backgroundInitParams={configKey:e,containerSelector:a,useDefaultBackground:n};const s=document.querySelector(a);!s||document.getElementById("bg1")&&document.getElementById("bg2")||this.createBackgroundElements(s);const r=document.getElementById("bg1"),i=document.getElementById("bg2");if(!r||!i)return void console.warn("背景图元素 #bg1 或 #bg2 未找到，请确保页面中包含这些元素");const o=this.storeUserConfig?.[e];"string"===typeof o?(this.storeWallPapers[e]&&0!==this.storeWallPapers[e].length||await this.$store.dispatch("base/fetchWallPapers",{type:e,source:this.storeUserConfig?.[e]||"random",num:5}),this.wallpapers=this.storeWallPapers[e]||[]):Array.isArray(o)?this.wallpapers=o:n&&(this.wallpapers=[this.useDarkMode?t(9712):t(3640)]),1===this.wallpapers.length?this.loadBackgroundImage(r,this.wallpapers[0],s,!1):this.wallpapers.length>1&&(this.loadBackgroundImage(r,this.wallpapers[this.wallPaperIndex],s,!0),this.backgroundInterval=setInterval(()=>{this.switchWallpaper(r,i)},this.bkInterval),this.preloadWallpapers())},async smoothThemeTransition(e,a=".login",n=!1){this.isChanging=!0;const s=this.storeUserConfig?.[e];if(!n||void 0!==s)return void await this.reinitializeBackground(e,a,n);const r=document.getElementById("bg1"),i=document.getElementById("bg2");if(!r||!i)return void await this.reinitializeBackground(e,a,n);const o=0!=r.style.opacity?r:i,l=0!=r.style.opacity?i:r,c=this.useDarkMode,d=t(c?9712:3640);await new Promise((e,t)=>{l.src=d,l.onload=()=>{o.style.opacity=0,l.style.opacity=this.bkOpacity,e()};const n=document.querySelector(a);n&&(n.style.background="transparent")})},async reinitializeBackground(e,a=".login",t=!1){this.clearBackgroundInterval(),await this.clearBackgroundImages(!1),this.wallPaperIndex=0,this.customWallPaperIndex=0,await this.initializeBackground(e,a,t)}}}},9529:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var n=t(47),s=(t(5331),t(9648),t(6768));const r={class:"not-found-container"},i=["innerHTML"],o={class:"not-found-content"},l={class:"back-button-wrapper"},c={class:"error-animation"},d={class:"error-image"},g=["src"],u={class:"error-info"},h={class:"error-actions"},m={class:"help-links"},p={class:"quick-links"};function k(e,a,t,k,b,f){const y=(0,s.g2)("font-awesome-icon"),v=n.S2;return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",{class:"background-wrapper",innerHTML:e.backgroundImagesTemplate},null,8,i),(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.bF)(v,{class:"back-button",onClick:f.goHome,circle:"",size:"large"},{default:(0,s.k6)(()=>[(0,s.bF)(y,{icon:"home"})]),_:1},8,["onClick"])]),(0,s.Lk)("div",c,[a[3]||(a[3]=(0,s.Lk)("div",{class:"error-number"},[(0,s.Lk)("span",{class:"four"},"4"),(0,s.Lk)("span",{class:"zero"},"0"),(0,s.Lk)("span",{class:"four"},"4")],-1)),(0,s.Lk)("div",d,[(0,s.Lk)("img",{src:f.errorImage,alt:"404",class:"floating-image"},null,8,g)])]),(0,s.Lk)("div",u,[a[10]||(a[10]=(0,s.Lk)("h1",{class:"error-title"},"页面走丢了",-1)),a[11]||(a[11]=(0,s.Lk)("p",{class:"error-description"}," 抱歉，您访问的页面可能已被删除、更名或暂时不可用 ",-1)),(0,s.Lk)("div",h,[(0,s.bF)(v,{type:"primary",size:"large",class:"action-btn primary-btn",onClick:f.goHome},{default:(0,s.k6)(()=>[(0,s.bF)(y,{icon:"home",class:"btn-icon"}),a[4]||(a[4]=(0,s.eW)(" 返回首页 "))]),_:1,__:[4]},8,["onClick"]),(0,s.bF)(v,{size:"large",class:"action-btn secondary-btn",onClick:f.goBack},{default:(0,s.k6)(()=>[(0,s.bF)(y,{icon:"arrow-left",class:"btn-icon"}),a[5]||(a[5]=(0,s.eW)(" 返回上页 "))]),_:1,__:[5]},8,["onClick"])]),(0,s.Lk)("div",m,[a[9]||(a[9]=(0,s.Lk)("p",{class:"help-text"},"也许您想要：",-1)),(0,s.Lk)("div",p,[(0,s.Lk)("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=(...e)=>f.goHome&&f.goHome(...e)),class:"quick-link"},[(0,s.bF)(y,{icon:"cloud-upload-alt"}),a[6]||(a[6]=(0,s.eW)(" 图片上传 "))]),(0,s.Lk)("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=(...e)=>f.goDashboard&&f.goDashboard(...e)),class:"quick-link"},[(0,s.bF)(y,{icon:"tachometer-alt"}),a[7]||(a[7]=(0,s.eW)(" 管理面板 "))]),(0,s.Lk)("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=(...e)=>f.refreshPage&&f.refreshPage(...e)),class:"quick-link"},[(0,s.bF)(y,{icon:"redo"}),a[8]||(a[8]=(0,s.eW)(" 刷新页面 "))])])])])]),a[12]||(a[12]=(0,s.Fv)('<div class="floating-elements" data-v-4fb6ecd0><div class="floating-shape shape-1" data-v-4fb6ecd0></div><div class="floating-shape shape-2" data-v-4fb6ecd0></div><div class="floating-shape shape-3" data-v-4fb6ecd0></div><div class="floating-shape shape-4" data-v-4fb6ecd0></div><div class="floating-shape shape-5" data-v-4fb6ecd0></div></div>',1))])}t(4114);var b=t(8015),f={name:"NotFound",mixins:[b.A],computed:{errorImage(){return t(6682)}},mounted(){this.initializeBackground("uploadBkImg",".not-found-container",!1)},beforeUnmount(){this.clearBackgroundInterval()},methods:{goHome(){this.$router.push("/")},goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},goDashboard(){this.$router.push("/dashboard")},refreshPage(){window.location.reload()}}},y=t(1241);const v=(0,y.A)(f,[["render",k],["__scopeId","data-v-4fb6ecd0"]]);var I=v},9712:function(e,a,t){e.exports=t.p+"img/background-dark.409f8ba9.webp"}}]);
//# sourceMappingURL=529.dc173965.js.map