"use strict";(self["webpackChunkjongsh_image_hosting"]=self["webpackChunkjongsh_image_hosting"]||[]).push([[771],{3153:function(e,t,a){e.exports=a.p+"img/logo.439f766f.png"},3469:function(e,t,a){a.d(t,{A:function(){return d}});var n=a(6768),r=a(4232);const s=["href","target"],o=["alt","src"];function i(e,t,a,i,l,c){return(0,n.uX)(),(0,n.CE)("a",{href:a.href,target:a.target,class:(0,r.C4)(e.logo-e.link)},[(0,n.Lk)("img",{class:(0,r.C4)(c.logoClasses),alt:a.alt,src:c.logoUrl},null,10,o)],10,s)}var l=a(782),c={name:"Logo",props:{href:{type:String,default:"https://github.com/MarSeventh/CloudFlare-ImgBed"},target:{type:String,default:"_blank",validator:e=>["_blank","_self","_parent","_top"].includes(e)},alt:{type:String,default:"Jongsh logo"},customSrc:{type:String,default:""},position:{type:String,default:"fixed",validator:e=>["fixed","relative","absolute","static"].includes(e)},size:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)},enableHover:{type:Boolean,default:!0}},computed:{...(0,l.L8)("base",["storeUserConfig"]),logoUrl(){return this.customSrc||this.storeUserConfig?.logoUrl||a(3153)},logoClasses(){return{logo:!0,[`logo--${this.position}`]:!0,[`logo--${this.size}`]:!0,"logo--hover-enabled":this.enableHover}}}},g=a(1241);const u=(0,g.A)(c,[["render",i],["__scopeId","data-v-6d89fe76"]]);var d=u},3640:function(e,t,a){e.exports=a.p+"img/background-light.cef1d016.webp"},6348:function(e,t,a){a.d(t,{A:function(){return d}});var n=a(6768),r=a(4232);const s={key:0,class:"page-footer"},o=["href"];function i(e,t,a,i,l,c){const g=(0,n.g2)("font-awesome-icon");return c.disableFooter?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("p",null,[(0,n.eW)("© 2024-"+(0,r.v_)(c.thisYear)+" Designed by ",1),t[0]||(t[0]=(0,n.Lk)("a",{class:"footer-name",href:"https://github.com/MarSeventh",target:"_blank"},"SanyueQi",-1)),t[1]||(t[1]=(0,n.eW)(" & ")),t[2]||(t[2]=(0,n.Lk)("a",{class:"footer-name",href:"https://github.com/jongsh",target:"_blank"},"Jongsh",-1)),t[3]||(t[3]=(0,n.eW)(" for You! ")),(0,n.Lk)("a",{href:c.footerLink,target:"_blank"},[(0,n.bF)(g,{icon:"paper-plane",class:"footer-link-icon"})],8,o)])]))}var l=a(782),c={name:"Footer",computed:{...(0,l.L8)("base",["storeUserConfig"]),footerLink(){return this.storeUserConfig?.footerLink||"https://github.com/jongsh"},thisYear(){return(new Date).getFullYear()},disableFooter(){return this.storeUserConfig?.disableFooter||!1}}},g=a(1241);const u=(0,g.A)(c,[["render",i],["__scopeId","data-v-25d971c2"]]);var d=u},8015:function(e,t,a){a.d(t,{A:function(){return s}});var n=a(782);function r(e,t=500){let a;return function(...n){clearTimeout(a),a=setTimeout(()=>e.apply(this,n),t)}}var s={data(){return{bingWallPaperIndex:0,customWallPaperIndex:0,backgroundInterval:null,backgroundInitParams:null,isChanging:!1}},computed:{...(0,n.L8)("base",["storeUserConfig","storeBingWallPapers","storeUseDarkMode"]),useDarkMode(){return this.storeUseDarkMode||document.documentElement.classList.contains("dark")},bkInterval(){return this.storeUserConfig?.bkInterval||3e3},bkOpacity(){return this.storeUserConfig?.bkOpacity||1},backgroundImagesTemplate(){return'\n        <img id="bg1" class="background-image1" alt="Background Image"/>\n        <img id="bg2" class="background-image2" alt="Background Image"/>\n      '},backgroundImagesStyles(){return`\n        .background-image1, .background-image2 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transform: scale(1);\n          transition: opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1);\n        }\n      `}},watch:{useDarkMode:r(async function(e,t){e!==t&&this.backgroundInitParams&&!this.isChanging&&(await this.smoothThemeTransition(this.backgroundInitParams.configKey,this.backgroundInitParams.containerSelector,this.backgroundInitParams.useDefaultBackground),this.isChanging=!1)},300)},mounted(){this.injectBackgroundStyles()},beforeUnmount(){this.backgroundInterval&&clearInterval(this.backgroundInterval),this.clearBackgroundImages(!0),this.removeBackgroundStyles()},methods:{injectBackgroundStyles(){const e="background-manager-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=this.backgroundImagesStyles,document.head.appendChild(t)}},removeBackgroundStyles(){const e="background-manager-styles",t=document.getElementById(e);t&&t.remove()},createBackgroundElements(e){if(!e)return void console.warn("未提供有效的容器元素");if(document.getElementById("bg1")||document.getElementById("bg2"))return;const t=document.createElement("img");t.id="bg1",t.className="background-image1",t.alt="Background Image";const a=document.createElement("img");a.id="bg2",a.className="background-image2",a.alt="Background Image",e.insertBefore(a,e.firstChild),e.insertBefore(t,e.firstChild)},async initializeBackground(e,t=".login",a=!1){this.backgroundInitParams={configKey:e,containerSelector:t,useDefaultBackground:a};const n=document.querySelector(t);!n||document.getElementById("bg1")&&document.getElementById("bg2")||this.createBackgroundElements(n);const r=document.getElementById("bg1"),s=document.getElementById("bg2");if(!r||!s)return void console.warn("背景图元素 #bg1 或 #bg2 未找到，请确保页面中包含这些元素");const o=this.storeUserConfig?.[e];"bing"===o?await this.setupBingWallpaper(r,s,n):Array.isArray(o)&&o.length>1?this.setupCustomWallpaperCarousel(r,s,o,n):Array.isArray(o)&&1===o.length?this.setupSingleCustomWallpaper(r,o[0],n):a&&this.setupDefaultWallpaper(r,n)},async setupBingWallpaper(e,t,a){this.storeBingWallPapers||await this.$store.dispatch("base/fetchBingWallPapers",{type:store.state.base.userConfig?.loginBkImg||"random",num:5}),0!==this.storeBingWallPapers.length&&(this.loadBackgroundImage(e,this.storeBingWallPapers[this.bingWallPaperIndex],a,!0),this.backgroundInterval=setInterval(()=>{this.switchWallpaper(e,t,this.storeBingWallPapers)},this.bkInterval))},setupCustomWallpaperCarousel(e,t,a,n){this.loadBackgroundImage(e,a[this.customWallPaperIndex],n,!0),this.backgroundInterval=setInterval(()=>{this.switchWallpaper(e,t,a)},this.bkInterval)},setupSingleCustomWallpaper(e,t,a){this.loadBackgroundImage(e,t,a)},setupDefaultWallpaper(e,t){const n=this.useDarkMode,r=a(n?9712:3640);this.loadBackgroundImage(e,r,t)},loadBackgroundImage(e,t,a,n){e.src=t,e.onload=()=>{e.style.opacity=1,e.style.transform="scale(1)",n&&requestAnimationFrame(()=>{e.style.transform="scale(1.25)"}),a&&(a.style.background="transparent")}},switchWallpaper(e,t,a){if(0===a.length)return;const n=0!=e.style.opacity?e:t,r=0!=e.style.opacity?t:e;n.style.opacity=0,n.style.transform="scale(1)",this.customWallPaperIndex=(this.customWallPaperIndex+1)%a.length,r.src=a[this.customWallPaperIndex],r.onload=()=>{r.style.opacity=this.bkOpacity,r.style.transform="scale(1.25)"}},clearBackgroundInterval(){this.backgroundInterval&&(clearInterval(this.backgroundInterval),this.backgroundInterval=null)},async clearBackgroundImages(e=!1){const t=document.getElementById("bg1"),a=document.getElementById("bg2");await Promise.all([t,a].map(t=>{if(t)return e?(t.style.transition="none",t.style.transform="scale(1)",t.style.opacity=0,t.src="",void requestAnimationFrame(()=>{t.style.transition=`opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1)`})):(t.style.opacity=0,t.style.transform="scale(1)",new Promise(e=>{setTimeout(()=>{t.src="",t.style.transition="none",requestAnimationFrame(()=>{t.style.transition=`opacity 0.8s cubic-bezier(0.42, 0, 0.58, 1), transform ${this.bkInterval/1e3}s cubic-bezier(0.42, 0, 0.58, 1)`,e()})},800)}))}))},async smoothThemeTransition(e,t=".login",n=!1){this.isChanging=!0;const r=this.storeUserConfig?.[e];if(!n||void 0!==r)return void await this.reinitializeBackground(e,t,n);const s=document.getElementById("bg1"),o=document.getElementById("bg2");if(!s||!o)return void await this.reinitializeBackground(e,t,n);const i=0!=s.style.opacity?s:o,l=0!=s.style.opacity?o:s,c=this.useDarkMode,g=a(c?9712:3640);await new Promise((e,a)=>{l.src=g,l.onload=()=>{i.style.opacity=0,l.style.opacity=this.bkOpacity,e()};const n=document.querySelector(t);n&&(n.style.background="transparent")})},async reinitializeBackground(e,t=".login",a=!1){this.clearBackgroundInterval(),await this.clearBackgroundImages(!1),this.bingWallPaperIndex=0,this.customWallPaperIndex=0,await this.initializeBackground(e,t,a)}}}},9532:function(e,t,a){a.d(t,{A:function(){return m}});var n=a(6768),r=a(4232);const s={id:"themeMask"},o=["cx","cy","r"],i=["r"],l=["opacity"];function c(e,t,a,c,g,u){return(0,n.uX)(),(0,n.CE)("div",{id:"themeToggle",onClick:t[0]||(t[0]=(...e)=>u.handleToggleClick&&u.handleToggleClick(...e))},[((0,n.uX)(),(0,n.CE)("svg",{class:(0,r.C4)(["theme_toggle_svg",{dark:g.isDark}]),width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor"},[(0,n.Lk)("mask",s,[t[1]||(t[1]=(0,n.Lk)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"},null,-1)),(0,n.Lk)("circle",{class:"theme_toggle_circle1",fill:"black",cx:g.isDark?"50%":"100%",cy:g.isDark?"23%":"0%",r:g.isDark?"9":"5"},null,8,o)]),(0,n.Lk)("circle",{class:"theme_toggle_circle2",cx:"12",cy:"12",r:g.isDark?"9":"5",mask:"url(#themeMask)"},null,8,i),(0,n.Lk)("g",{class:"theme_toggle_g",stroke:"currentColor",opacity:g.isDark?0:1},t[2]||(t[2]=[(0,n.Fv)('<line x1="12" y1="1" x2="12" y2="3" data-v-2b38c282></line><line x1="12" y1="21" x2="12" y2="23" data-v-2b38c282></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-2b38c282></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-2b38c282></line><line x1="1" y1="12" x2="3" y2="12" data-v-2b38c282></line><line x1="21" y1="12" x2="23" y2="12" data-v-2b38c282></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-2b38c282></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-2b38c282></line>',8)]),8,l)],2))])}var g={name:"ToggleDark",data(){return{isDark:this.$store.state.base.useDarkMode||document.documentElement.classList.contains("dark")}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("base/setUseDarkMode",this.isDark)}}},u=a(1241);const d=(0,u.A)(g,[["render",c],["__scopeId","data-v-2b38c282"]]);var m=d},9712:function(e,t,a){e.exports=a.p+"img/background-dark.409f8ba9.webp"}}]);
//# sourceMappingURL=771.598ba2ff.js.map